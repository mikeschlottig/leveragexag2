<!DOCTYPE html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A programming framework for agentic AI"><meta name=author content="Chi Wang & Qingyun Wu"><link href=https://docs.ag2.ai/latest/docs/blog/2025/12/29/AG2-Gemini-Thinking-Config-Support/ rel=canonical><link href=../../24/AG2-MultiMCPSessionManager/ rel=prev><link href=../../../../2026/02/08/AG2-OpenTelemetry-Tracing/ rel=next><link rel=icon href=../../../../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.19"><title>AG2 Gemini Thinking Configuration: Enhanced Reasoning Control with ThinkingConfig - AG2</title><link rel=stylesheet href=../../../../../../assets/stylesheets/main.7e37652d.min.css><link rel=stylesheet href=../../../../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Inter";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../../../css/timeago.css><link rel=stylesheet href=../../../../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../../../../stylesheets/extra.ff0633.min.css><script>__md_scope=new URL("../../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-2GN2KN2CE4"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-2GN2KN2CE4",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-2GN2KN2CE4",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><meta http-equiv=Cache-Control content="no-cache, no-store, must-revalidate"><meta property=og:type content=website><meta property=og:title content="AG2 - AG2 Gemini Thinking Configuration: Enhanced Reasoning Control with ThinkingConfig"><meta property=og:description content="A programming framework for agentic AI"><meta content=https://docs.ag2.ai/latest/docs/blog/2025/12/29/AG2-Gemini-Thinking-Config-Support/ property=og:url><meta property=og:image content=https://opengraph.githubassets.com/1671805243.560327/ag2ai/ag2><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="AG2 - AG2 Gemini Thinking Configuration: Enhanced Reasoning Control with ThinkingConfig"><meta name=twitter:description content="A programming framework for agentic AI"><meta name=twitter:image content=https://opengraph.githubassets.com/1671805243.560327/ag2ai/ag2><link rel=icon href=https://docs.ag2.ai/latest/assets/img/favicon.svg type=image/x-icon><link rel=icon href=https://docs.ag2.ai/latest/assets/img/favicon-dark.svg type=image/x-icon media="(prefers-color-scheme: light)"><link rel=icon href=https://docs.ag2.ai/latest/assets/img/favicon.svg type=image/x-icon media="(prefers-color-scheme: dark)"><link href=../../../../../../assets/stylesheets/glightbox.min.css rel=stylesheet><script src=../../../../../../assets/javascripts/glightbox.min.js></script><style id=glightbox-style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#understanding-thinking-configuration class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the latest version. <a href=../../../../../../..> <strong>Click here to go to latest.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../../../../../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../../.. title=AG2 class="md-header__button md-logo" aria-label=AG2 data-md-component=logo> <img src=../../../../../../assets/img/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> AG2 </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> AG2 Gemini Thinking Configuration: Enhanced Reasoning Control with ThinkingConfig </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ag2ai/ag2 title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </div> <div class=md-source__repository> ag2ai/ag2 </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../../../quick-start/ class=md-tabs__link> Quick Start </a> </li> <li class=md-tabs__item> <a href=../../../../../user-guide/basic-concepts/installing-ag2/ class=md-tabs__link> User Guide </a> </li> <li class=md-tabs__item> <a href=../../../../../api-reference/autogen/Agent/ class=md-tabs__link> API References </a> </li> <li class=md-tabs__item> <a href=../../../../../contributor-guide/contributing/ class=md-tabs__link> Contributor Guide </a> </li> <li class=md-tabs__item> <a href=../../../../../ecosystem/agentops/ class=md-tabs__link> Ecosystem </a> </li> <li class=md-tabs__item> <a href=../../../../../use-cases/use-cases/customer-service/ class=md-tabs__link> Use Cases </a> </li> <li class=md-tabs__item> <a href=../../../../../user-stories/2025-04-30-Cegid-Pulse-OS/cegid_pulse_os/ class=md-tabs__link> Community Insights </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../../ class=md-tabs__link> Blog </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation hidden> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../../.. title=AG2 class="md-nav__button md-logo" aria-label=AG2 data-md-component=logo> <img src=../../../../../../assets/img/logo.svg alt=logo> </a> AG2 </label> <div class=md-nav__source> <a href=https://github.com/ag2ai/ag2 title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </div> <div class=md-source__repository> ag2ai/ag2 </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../quick-start/ class=md-nav__link> <span class=md-ellipsis> Quick Start </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../user-guide/basic-concepts/installing-ag2/ class=md-nav__link> <span class=md-ellipsis> User Guide </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../api-reference/autogen/Agent/ class=md-nav__link> <span class=md-ellipsis> API References </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../contributor-guide/contributing/ class=md-nav__link> <span class=md-ellipsis> Contributor Guide </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../ecosystem/agentops/ class=md-nav__link> <span class=md-ellipsis> Ecosystem </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../use-cases/use-cases/customer-service/ class=md-nav__link> <span class=md-ellipsis> Use Cases </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../user-stories/2025-04-30-Cegid-Pulse-OS/cegid_pulse_os/ class=md-nav__link> <span class=md-ellipsis> Community Insights </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8 checked> <div class="md-nav__link md-nav__container"> <a href=../../../../ class="md-nav__link "> <span class=md-ellipsis> Blog </span> </a> <label class="md-nav__link " for=__nav_8 id=__nav_8_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=true> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Blog </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../archive/2026/ class=md-nav__link> <span class=md-ellipsis> Archive </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../category/a2a/ class=md-nav__link> <span class=md-ellipsis> Categories </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#understanding-thinking-configuration class=md-nav__link> <span class=md-ellipsis> Understanding Thinking Configuration </span> </a> <nav class=md-nav aria-label="Understanding Thinking Configuration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#key-parameters class=md-nav__link> <span class=md-ellipsis> Key Parameters </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#basic-setup class=md-nav__link> <span class=md-ellipsis> Basic Setup </span> </a> </li> <li class=md-nav__item> <a href=#configuring-thinking-parameters class=md-nav__link> <span class=md-ellipsis> Configuring Thinking Parameters </span> </a> <nav class=md-nav aria-label="Configuring Thinking Parameters"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#using-thinking_level-gemini-3-recommended class=md-nav__link> <span class=md-ellipsis> Using thinking_level (Gemini 3 - Recommended) </span> </a> </li> <li class=md-nav__item> <a href=#using-thinking_budget-gemini-25 class=md-nav__link> <span class=md-ellipsis> Using thinking_budget (Gemini 2.5) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#practical-examples class=md-nav__link> <span class=md-ellipsis> Practical Examples </span> </a> <nav class=md-nav aria-label="Practical Examples"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example-1-complex-problem-solving-with-high-thinking class=md-nav__link> <span class=md-ellipsis> Example 1: Complex Problem Solving with High Thinking </span> </a> </li> <li class=md-nav__item> <a href=#example-2-budget-based-control-gemini-25 class=md-nav__link> <span class=md-ellipsis> Example 2: Budget-Based Control (Gemini 2.5) </span> </a> </li> <li class=md-nav__item> <a href=#example-3-adjusting-thinking-level-dynamically class=md-nav__link> <span class=md-ellipsis> Example 3: Adjusting Thinking Level Dynamically </span> </a> </li> <li class=md-nav__item> <a href=#example-4-research-assistant-with-thought-transparency class=md-nav__link> <span class=md-ellipsis> Example 4: Research Assistant with Thought Transparency </span> </a> </li> <li class=md-nav__item> <a href=#example-5-cost-optimized-configuration class=md-nav__link> <span class=md-ellipsis> Example 5: Cost-Optimized Configuration </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#advanced-patterns class=md-nav__link> <span class=md-ellipsis> Advanced Patterns </span> </a> <nav class=md-nav aria-label="Advanced Patterns"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#pattern-1-model-aware-configuration class=md-nav__link> <span class=md-ellipsis> Pattern 1: Model-Aware Configuration </span> </a> </li> <li class=md-nav__item> <a href=#pattern-2-thinking-aware-task-routing class=md-nav__link> <span class=md-ellipsis> Pattern 2: Thinking-Aware Task Routing </span> </a> </li> <li class=md-nav__item> <a href=#pattern-3-ab-testing-thinking-configurations class=md-nav__link> <span class=md-ellipsis> Pattern 3: A/B Testing Thinking Configurations </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#best-practices class=md-nav__link> <span class=md-ellipsis> Best Practices </span> </a> <nav class=md-nav aria-label="Best Practices"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-choose-the-right-parameter-for-your-model class=md-nav__link> <span class=md-ellipsis> 1. Choose the Right Parameter for Your Model </span> </a> </li> <li class=md-nav__item> <a href=#2-enable-thoughts-for-debugging-and-transparency class=md-nav__link> <span class=md-ellipsis> 2. Enable Thoughts for Debugging and Transparency </span> </a> </li> <li class=md-nav__item> <a href=#3-match-thinking-intensity-to-task-complexity class=md-nav__link> <span class=md-ellipsis> 3. Match Thinking Intensity to Task Complexity </span> </a> </li> <li class=md-nav__item> <a href=#4-use-appropriate-budget-values class=md-nav__link> <span class=md-ellipsis> 4. Use Appropriate Budget Values </span> </a> </li> <li class=md-nav__item> <a href=#5-consider-cost-vs-quality-trade-offs class=md-nav__link> <span class=md-ellipsis> 5. Consider Cost vs. Quality Trade-offs </span> </a> </li> <li class=md-nav__item> <a href=#6-dont-mix-thinking_level-and-thinking_budget class=md-nav__link> <span class=md-ellipsis> 6. Don't Mix thinking_level and thinking_budget </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#troubleshooting class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> <nav class=md-nav aria-label=Troubleshooting> <ul class=md-nav__list> <li class=md-nav__item> <a href=#common-issues class=md-nav__link> <span class=md-ellipsis> Common Issues </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#check-documentation-for-valid-ranges class=md-nav__link> <span class=md-ellipsis> Check documentation for valid ranges </span> </a> <nav class=md-nav aria-label="Check documentation for valid ranges"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#typical-ranges class=md-nav__link> <span class=md-ellipsis> Typical ranges: </span> </a> </li> <li class=md-nav__item> <a href=#note-thoughts-only-appear-if-the-model-actually-used-thinking class=md-nav__link> <span class=md-ellipsis> Note: Thoughts only appear if the model actually used thinking </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#benefits-summary class=md-nav__link> <span class=md-ellipsis> Benefits Summary </span> </a> </li> <li class=md-nav__item> <a href=#getting-started class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=#additional-resources class=md-nav__link> <span class=md-ellipsis> Additional Resources </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content md-content--post" data-md-component=content> <div class="md-sidebar md-sidebar--post" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class="md-sidebar__inner md-post"> <nav class="md-nav md-nav--primary"> <div class=md-post__back> <div class="md-nav__title md-nav__container"> <a href=../../../../ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> <span class=md-ellipsis> Back to index </span> </a> </div> </div> <div class="md-post__authors md-typeset"> <div class="md-profile md-post__profile"> <span class="md-author md-author--long"> <img src=https://github.com/priyansh4320.png alt="Priyanshu Deshmukh"> </span> <span class=md-profile__description> <strong> <a href=https://github.com/priyansh4320>Priyanshu Deshmukh</a> </strong> <br> Building Amazing AI :) </span> </div> </div> <ul class="md-post__meta md-nav__list"> <li class="md-nav__item md-nav__item--section"> <div class=md-post__title> <span class=md-ellipsis> Metadata </span> </div> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5z"></path></svg> <time datetime="2025-12-29 00:00:00+00:00" class=md-ellipsis>December 29, 2025</time> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9 3v15h3V3zm3 2 4 13 3-1-4-13zM5 5v13h3V5zM3 19v2h18v-2z"></path></svg> <span class=md-ellipsis> in <a href=../../../../category/google-gemini/ >Google Gemini</a>, <a href=../../../../category/thinking-config/ >Thinking Config</a>, <a href=../../../../category/reasoning/ >Reasoning</a>, <a href=../../../../category/llm-configuration/ >LLM Configuration</a>, <a href=../../../../category/agent-chat/ >Agent Chat</a></span> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7z"></path></svg> <span class=md-ellipsis> 11 min read </span> </div> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <article class="md-content__inner md-typeset"> <a href=https://github.com/ag2ai/ag2/edit/main/website/docs/blog/posts/2025-12-29-AG2-Gemini-Thinking-Config-Support/index.md title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m7 14.94 6.06-6.06 2.06 2.06L9.06 17H7zM12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m4.7-10.65-1 1-2.05-2.05 1-1c.21-.22.56-.22.77 0l1.28 1.28c.22.21.22.56 0 .77M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2"></path></svg> </a> <h1>AG2 Gemini Thinking Configuration: Enhanced Reasoning Control with ThinkingConfig</h1> <p>AG2 v0.10.3 introduces native support for Google Gemini's Thinking Configuration, enabling fine-grained control over how Gemini models approach complex reasoning tasks. With <code>thinking_budget</code>, <code>thinking_level</code>, and <code>include_thoughts</code> parameters, you can now customize the depth and transparency of your agent's reasoning process, making it ideal for complex problem-solving, research tasks, and scenarios where you need insight into the model's internal reasoning.</p> <p>This article explores how to leverage Gemini Thinking Configuration in AG2 for enhanced reasoning capabilities, with practical examples for different use cases and model variants.</p> <p>Google Gemini models support advanced reasoning features that allow them to "think" through problems before providing answers. This internal reasoning process can significantly improve performance on complex tasks, but until now, controlling this behavior in AG2 required custom configurations or workarounds.</p> <p>AG2 v0.10.3's native ThinkingConfig support solves this by providing direct access to Gemini's thinking parameters through the standard <code>LLMConfig</code> interface, making it easy to:</p> <ul> <li>Control the amount of reasoning tokens allocated to complex problems</li> <li>Adjust thinking intensity for different task complexities</li> <li>Reveal the model's internal reasoning process when needed</li> <li>Optimize cost and performance based on your specific use case</li> </ul> <p><strong>Key Features:</strong></p> <ul> <li><strong><code>thinking_budget</code></strong>: Control the exact number of tokens allocated for reasoning (Gemini 2.5 series)</li> <li><strong><code>thinking_level</code></strong>: Set thinking intensity levels - High, Medium, Low, or Minimal (Gemini 3 series)</li> <li><strong><code>include_thoughts</code></strong>: Choose whether to include thought summaries in responses for transparency</li> <li><strong>Model-Specific Support</strong>: Automatic handling of different parameter sets for Gemini 2.5 and Gemini 3 models</li> <li><strong>Seamless Integration</strong>: Configure through standard <code>LLMConfig</code> - no special setup required</li> </ul> <p><strong>Why This Matters:</strong></p> <p>Understanding and controlling how AI models reason is crucial for building trustworthy, efficient agent systems. Gemini's thinking configuration allows you to balance between thorough reasoning (better accuracy on complex tasks) and efficiency (faster responses, lower costs). AG2's integration makes this accessible without complex API wrangling.</p> <p><strong>When to Use Thinking Configuration:</strong></p> <p>Use Thinking Configuration when you need:</p> <ul> <li><strong>Complex Problem Solving</strong>: Tasks requiring multi-step reasoning, logic puzzles, or analytical thinking</li> <li><strong>Research and Analysis</strong>: Deep research tasks where thorough thinking improves quality</li> <li><strong>Debugging and Transparency</strong>: Understanding how your agent approaches problems</li> <li><strong>Cost Optimization</strong>: Fine-tuning reasoning depth based on task complexity</li> <li><strong>Performance Tuning</strong>: Balancing response quality against latency and token usage</li> </ul> <p>Don't use thinking configuration for simple, straightforward tasks where the overhead isn't beneficial, or when you need minimal latency above all else.</p> <h2 id=understanding-thinking-configuration>Understanding Thinking Configuration<a class=headerlink href=#understanding-thinking-configuration title="Permanent link">#</a></h2> <p>Gemini's Thinking Configuration consists of three main parameters that control different aspects of the model's reasoning process:</p> <h3 id=key-parameters>Key Parameters<a class=headerlink href=#key-parameters title="Permanent link">#</a></h3> <p><strong>1. <code>thinking_budget</code></strong> (Gemini 2.5 series) - Controls the exact number of tokens allocated for internal reasoning - Values: <code>0</code> (DISABLED), <code>-1</code> (AUTOMATIC), or a positive integer - Model-dependent ranges apply - check <a href=https://ai.google.dev/gemini-api/docs/thinking>Gemini documentation</a> for specific limits - Use with: <code>gemini-2.5-flash</code>, <code>gemini-2.5-pro</code>, and other Gemini 2.5 models</p> <p><strong>2. <code>thinking_level</code></strong> (Gemini 3 series, recommended) - Controls thinking intensity as a qualitative setting - Values: <code>"High"</code>, <code>"Medium"</code>, <code>"Low"</code>, or <code>"Minimal"</code> (model-dependent) - More intuitive than budget-based control - Use with: <code>gemini-3-pro-preview</code>, <code>gemini-3-flash-preview</code> - Note: <code>thinking_level</code> is preferred over <code>thinking_budget</code> for Gemini 3 models</p> <p><strong>3. <code>include_thoughts</code></strong> - Controls whether thought summaries are included in the response - Values: <code>True</code> or <code>False</code> - When <code>True</code>, you see the model's internal reasoning process - Useful for debugging, transparency, and understanding agent behavior - Works with both Gemini 2.5 and Gemini 3 models</p> <p><strong>Model Compatibility:</strong></p> <ul> <li><strong>Gemini 2.5 series</strong>: Use <code>thinking_budget</code> (with optional <code>include_thoughts</code>)</li> <li><strong>Gemini 3 series</strong>: Use <code>thinking_level</code> (recommended) or <code>thinking_budget</code> (backwards compatible, but suboptimal)</li> <li><strong>All models</strong>: Support <code>include_thoughts</code> for transparency</li> </ul> <h2 id=basic-setup>Basic Setup<a class=headerlink href=#basic-setup title="Permanent link">#</a></h2> <p>The simplest way to use Thinking Configuration is to add the parameters to your <code>LLMConfig</code>: </p><div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=kn>from</span><span class=w> </span><span class=nn>autogen</span><span class=w> </span><span class=kn>import</span> <span class=n>ConversableAgent</span><span class=p>,</span> <span class=n>LLMConfig</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=kn>import</span><span class=w> </span><span class=nn>os</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=n>api_key</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>getenv</span><span class=p>(</span><span class=s2>"GOOGLE_GEMINI_API_KEY"</span><span class=p>)</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=c1># Basic configuration with thinking_level (Gemini 3)</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-pro-preview"</span><span class=p>,</span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a>        <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=s2>"High"</span><span class=p>,</span>  <span class=c1># Enable high-intensity thinking</span>
<a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a>        <span class=s2>"include_thoughts"</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>   <span class=c1># Include thought summaries</span>
<a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a>    <span class=p>}</span>
<a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a><span class=p>)</span>
<a id=__codelineno-0-16 name=__codelineno-0-16 href=#__codelineno-0-16></a>
<a id=__codelineno-0-17 name=__codelineno-0-17 href=#__codelineno-0-17></a><span class=n>agent</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-0-18 name=__codelineno-0-18 href=#__codelineno-0-18></a>    <span class=n>name</span><span class=o>=</span><span class=s2>"agent"</span><span class=p>,</span>
<a id=__codelineno-0-19 name=__codelineno-0-19 href=#__codelineno-0-19></a>    <span class=n>description</span><span class=o>=</span><span class=s2>"you are a helpful assistant"</span><span class=p>,</span>
<a id=__codelineno-0-20 name=__codelineno-0-20 href=#__codelineno-0-20></a>    <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span>
<a id=__codelineno-0-21 name=__codelineno-0-21 href=#__codelineno-0-21></a><span class=p>)</span>
<a id=__codelineno-0-22 name=__codelineno-0-22 href=#__codelineno-0-22></a>
<a id=__codelineno-0-23 name=__codelineno-0-23 href=#__codelineno-0-23></a><span class=n>response</span> <span class=o>=</span> <span class=n>agent</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>message</span><span class=o>=</span><span class=s2>"Solve this complex problem..."</span><span class=p>,</span> <span class=n>max_turns</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
<a id=__codelineno-0-24 name=__codelineno-0-24 href=#__codelineno-0-24></a><span class=n>response</span><span class=o>.</span><span class=n>process</span><span class=p>()</span>
</code></pre></div><p></p> <p>This pattern ensures: - Thinking is enabled and configured - Thought summaries are included for transparency - No additional setup required beyond standard LLMConfig</p> <h2 id=configuring-thinking-parameters>Configuring Thinking Parameters<a class=headerlink href=#configuring-thinking-parameters title="Permanent link">#</a></h2> <h3 id=using-thinking_level-gemini-3-recommended>Using <code>thinking_level</code> (Gemini 3 - Recommended)<a class=headerlink href=#using-thinking_level-gemini-3-recommended title="Permanent link">#</a></h3> <p>For Gemini 3 models, <code>thinking_level</code> provides intuitive control over reasoning intensity: </p><div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=c1># High thinking intensity (default for gemini-3-pro-preview)</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=n>llm_config_high</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-pro-preview"</span><span class=p>,</span>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>        <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=s2>"High"</span><span class=p>,</span>  <span class=c1># Allow extensive thinking</span>
<a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>        <span class=s2>"include_thoughts"</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
<a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>    <span class=p>}</span>
<a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=p>)</span>
<a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a>
<a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a><span class=c1># Medium thinking intensity (gemini-3-flash-preview)</span>
<a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a><span class=n>llm_config_medium</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-flash-preview"</span><span class=p>,</span>
<a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a>        <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=s2>"Medium"</span><span class=p>,</span>  <span class=c1># Balanced thinking</span>
<a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a>        <span class=s2>"include_thoughts"</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
<a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a>    <span class=p>}</span>
<a id=__codelineno-1-21 name=__codelineno-1-21 href=#__codelineno-1-21></a><span class=p>)</span>
<a id=__codelineno-1-22 name=__codelineno-1-22 href=#__codelineno-1-22></a>
<a id=__codelineno-1-23 name=__codelineno-1-23 href=#__codelineno-1-23></a><span class=c1># Low thinking intensity</span>
<a id=__codelineno-1-24 name=__codelineno-1-24 href=#__codelineno-1-24></a><span class=n>llm_config_low</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-1-25 name=__codelineno-1-25 href=#__codelineno-1-25></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-1-26 name=__codelineno-1-26 href=#__codelineno-1-26></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-flash-preview"</span><span class=p>,</span>
<a id=__codelineno-1-27 name=__codelineno-1-27 href=#__codelineno-1-27></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-1-28 name=__codelineno-1-28 href=#__codelineno-1-28></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-1-29 name=__codelineno-1-29 href=#__codelineno-1-29></a>        <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=s2>"Low"</span><span class=p>,</span>  <span class=c1># Minimal thinking overhead</span>
<a id=__codelineno-1-30 name=__codelineno-1-30 href=#__codelineno-1-30></a>        <span class=s2>"include_thoughts"</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>  <span class=c1># Hide thoughts for cleaner output</span>
<a id=__codelineno-1-31 name=__codelineno-1-31 href=#__codelineno-1-31></a>    <span class=p>}</span>
<a id=__codelineno-1-32 name=__codelineno-1-32 href=#__codelineno-1-32></a><span class=p>)</span>
<a id=__codelineno-1-33 name=__codelineno-1-33 href=#__codelineno-1-33></a>
<a id=__codelineno-1-34 name=__codelineno-1-34 href=#__codelineno-1-34></a><span class=c1># Minimal thinking (nearly disabled, similar to no thinking)</span>
<a id=__codelineno-1-35 name=__codelineno-1-35 href=#__codelineno-1-35></a><span class=n>llm_config_minimal</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-1-36 name=__codelineno-1-36 href=#__codelineno-1-36></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-1-37 name=__codelineno-1-37 href=#__codelineno-1-37></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-flash-preview"</span><span class=p>,</span>
<a id=__codelineno-1-38 name=__codelineno-1-38 href=#__codelineno-1-38></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-1-39 name=__codelineno-1-39 href=#__codelineno-1-39></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-1-40 name=__codelineno-1-40 href=#__codelineno-1-40></a>        <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=s2>"Minimal"</span><span class=p>,</span>  <span class=c1># Minimal reasoning</span>
<a id=__codelineno-1-41 name=__codelineno-1-41 href=#__codelineno-1-41></a>    <span class=p>}</span>
<a id=__codelineno-1-42 name=__codelineno-1-42 href=#__codelineno-1-42></a><span class=p>)</span>
</code></pre></div><p></p> <p><strong>Available levels by model:</strong></p> <ul> <li><code>gemini-3-pro-preview</code>: <code>"High"</code>, <code>"Low"</code> (High is default)</li> <li><code>gemini-3-flash-preview</code>: <code>"High"</code>, <code>"Medium"</code>, <code>"Low"</code>, <code>"Minimal"</code></li> </ul> <h3 id=using-thinking_budget-gemini-25>Using <code>thinking_budget</code> (Gemini 2.5)<a class=headerlink href=#using-thinking_budget-gemini-25 title="Permanent link">#</a></h3> <p>For Gemini 2.5 models, use <code>thinking_budget</code> to control reasoning tokens: </p><div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=c1># Automatic thinking budget (model decides)</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=n>llm_config_auto</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-2.5-flash"</span><span class=p>,</span>
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>        <span class=s2>"thinking_budget"</span><span class=p>:</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span>  <span class=c1># AUTOMATIC - model adjusts based on complexity</span>
<a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>    <span class=p>}</span>
<a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a><span class=p>)</span>
<a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a>
<a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a><span class=c1># Specific budget (4096 tokens)</span>
<a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a><span class=n>llm_config_budget</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-2.5-flash"</span><span class=p>,</span>
<a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-2-17 name=__codelineno-2-17 href=#__codelineno-2-17></a>        <span class=s2>"thinking_budget"</span><span class=p>:</span> <span class=mi>4096</span><span class=p>,</span>  <span class=c1># Allocate 4096 tokens for thinking</span>
<a id=__codelineno-2-18 name=__codelineno-2-18 href=#__codelineno-2-18></a>    <span class=p>}</span>
<a id=__codelineno-2-19 name=__codelineno-2-19 href=#__codelineno-2-19></a><span class=p>)</span>
<a id=__codelineno-2-20 name=__codelineno-2-20 href=#__codelineno-2-20></a>
<a id=__codelineno-2-21 name=__codelineno-2-21 href=#__codelineno-2-21></a><span class=c1># Disabled thinking</span>
<a id=__codelineno-2-22 name=__codelineno-2-22 href=#__codelineno-2-22></a><span class=n>llm_config_disabled</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-2-23 name=__codelineno-2-23 href=#__codelineno-2-23></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-2-24 name=__codelineno-2-24 href=#__codelineno-2-24></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-2.5-flash"</span><span class=p>,</span>
<a id=__codelineno-2-25 name=__codelineno-2-25 href=#__codelineno-2-25></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-2-26 name=__codelineno-2-26 href=#__codelineno-2-26></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-2-27 name=__codelineno-2-27 href=#__codelineno-2-27></a>        <span class=s2>"thinking_budget"</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>  <span class=c1># DISABLED - no thinking tokens</span>
<a id=__codelineno-2-28 name=__codelineno-2-28 href=#__codelineno-2-28></a>    <span class=p>}</span>
<a id=__codelineno-2-29 name=__codelineno-2-29 href=#__codelineno-2-29></a><span class=p>)</span>
</code></pre></div><p></p> <p><strong>Budget ranges are model-dependent.</strong> Check the <a href=https://ai.google.dev/gemini-api/docs/thinking>Gemini Thinking Documentation</a> for specific limits for each model.</p> <h2 id=practical-examples>Practical Examples<a class=headerlink href=#practical-examples title="Permanent link">#</a></h2> <h3 id=example-1-complex-problem-solving-with-high-thinking>Example 1: Complex Problem Solving with High Thinking<a class=headerlink href=#example-1-complex-problem-solving-with-high-thinking title="Permanent link">#</a></h3> <p>For complex reasoning tasks, enable high thinking intensity:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=kn>from</span><span class=w> </span><span class=nn>autogen</span><span class=w> </span><span class=kn>import</span> <span class=n>ConversableAgent</span><span class=p>,</span> <span class=n>LLMConfig</span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=kn>import</span><span class=w> </span><span class=nn>os</span>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=n>api_key</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>getenv</span><span class=p>(</span><span class=s2>"GOOGLE_GEMINI_API_KEY"</span><span class=p>)</span>
<a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>
<a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=n>prompt</span> <span class=o>=</span> <span class=s2>"""You are playing the 20 question game. You know that what you are looking for</span>
<a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=s2>is an aquatic mammal that doesn't live in the sea, is venomous and that's</span>
<a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=s2>smaller than a cat. What could that be and how could you make sure?"""</span>
<a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>
<a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=c1># Configure for complex reasoning</span>
<a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-pro-preview"</span><span class=p>,</span>
<a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a>        <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=s2>"High"</span><span class=p>,</span>  <span class=c1># Allow extensive reasoning</span>
<a id=__codelineno-3-17 name=__codelineno-3-17 href=#__codelineno-3-17></a>        <span class=s2>"include_thoughts"</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>   <span class=c1># See the reasoning process</span>
<a id=__codelineno-3-18 name=__codelineno-3-18 href=#__codelineno-3-18></a>    <span class=p>}</span>
<a id=__codelineno-3-19 name=__codelineno-3-19 href=#__codelineno-3-19></a><span class=p>)</span>
<a id=__codelineno-3-20 name=__codelineno-3-20 href=#__codelineno-3-20></a>
<a id=__codelineno-3-21 name=__codelineno-3-21 href=#__codelineno-3-21></a><span class=n>agent</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-3-22 name=__codelineno-3-22 href=#__codelineno-3-22></a>    <span class=n>name</span><span class=o>=</span><span class=s2>"reasoning_agent"</span><span class=p>,</span>
<a id=__codelineno-3-23 name=__codelineno-3-23 href=#__codelineno-3-23></a>    <span class=n>description</span><span class=o>=</span><span class=s2>"you are a helpful assistant that solves complex problems"</span><span class=p>,</span>
<a id=__codelineno-3-24 name=__codelineno-3-24 href=#__codelineno-3-24></a>    <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span>
<a id=__codelineno-3-25 name=__codelineno-3-25 href=#__codelineno-3-25></a><span class=p>)</span>
<a id=__codelineno-3-26 name=__codelineno-3-26 href=#__codelineno-3-26></a>
<a id=__codelineno-3-27 name=__codelineno-3-27 href=#__codelineno-3-27></a><span class=n>response</span> <span class=o>=</span> <span class=n>agent</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>message</span><span class=o>=</span><span class=n>prompt</span><span class=p>,</span> <span class=n>max_turns</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>user_input</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<a id=__codelineno-3-28 name=__codelineno-3-28 href=#__codelineno-3-28></a><span class=n>response</span><span class=o>.</span><span class=n>process</span><span class=p>()</span>
</code></pre></div> <p>This configuration enables: - Deep reasoning for complex problems - Transparent thought process - Better accuracy on multi-step logical tasks</p> <h3 id=example-2-budget-based-control-gemini-25>Example 2: Budget-Based Control (Gemini 2.5)<a class=headerlink href=#example-2-budget-based-control-gemini-25 title="Permanent link">#</a></h3> <p>For Gemini 2.5 models, use <code>thinking_budget</code> for precise control:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=c1># Allocate specific budget for thinking</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=n>budget</span> <span class=o>=</span> <span class=mi>4096</span>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-2.5-flash"</span><span class=p>,</span>
<a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a>        <span class=s2>"thinking_budget"</span><span class=p>:</span> <span class=n>budget</span><span class=p>,</span>  <span class=c1># Fixed token budget</span>
<a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a>    <span class=p>}</span>
<a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a><span class=p>)</span>
<a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a>
<a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a><span class=n>agent</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a>    <span class=n>name</span><span class=o>=</span><span class=s2>"agent"</span><span class=p>,</span>
<a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a>    <span class=n>description</span><span class=o>=</span><span class=s2>"you are a helpful assistant"</span><span class=p>,</span>
<a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a>    <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span>
<a id=__codelineno-4-17 name=__codelineno-4-17 href=#__codelineno-4-17></a><span class=p>)</span>
<a id=__codelineno-4-18 name=__codelineno-4-18 href=#__codelineno-4-18></a>
<a id=__codelineno-4-19 name=__codelineno-4-19 href=#__codelineno-4-19></a><span class=n>response</span> <span class=o>=</span> <span class=n>agent</span><span class=o>.</span><span class=n>run</span><span class=p>(</span>
<a id=__codelineno-4-20 name=__codelineno-4-20 href=#__codelineno-4-20></a>    <span class=n>message</span><span class=o>=</span><span class=s2>"Analyze this complex data set and provide insights"</span><span class=p>,</span>
<a id=__codelineno-4-21 name=__codelineno-4-21 href=#__codelineno-4-21></a>    <span class=n>max_turns</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span>
<a id=__codelineno-4-22 name=__codelineno-4-22 href=#__codelineno-4-22></a>    <span class=n>user_input</span><span class=o>=</span><span class=kc>True</span>
<a id=__codelineno-4-23 name=__codelineno-4-23 href=#__codelineno-4-23></a><span class=p>)</span>
<a id=__codelineno-4-24 name=__codelineno-4-24 href=#__codelineno-4-24></a><span class=n>response</span><span class=o>.</span><span class=n>process</span><span class=p>()</span>
</code></pre></div> <p>This pattern is useful when: - You need predictable token usage - Working with Gemini 2.5 series models - Budget constraints are important</p> <h3 id=example-3-adjusting-thinking-level-dynamically>Example 3: Adjusting Thinking Level Dynamically<a class=headerlink href=#example-3-adjusting-thinking-level-dynamically title="Permanent link">#</a></h3> <p>You can adjust thinking level based on task complexity: </p><div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=k>def</span><span class=w> </span><span class=nf>create_agent_for_task</span><span class=p>(</span><span class=n>task_complexity</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>api_key</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=w>    </span><span class=sd>"""Create agent with appropriate thinking level based on task complexity."""</span>
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>    <span class=c1># Map complexity to thinking level</span>
<a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>    <span class=n>thinking_levels</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a>        <span class=s2>"simple"</span><span class=p>:</span> <span class=s2>"Low"</span><span class=p>,</span>
<a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a>        <span class=s2>"moderate"</span><span class=p>:</span> <span class=s2>"Medium"</span><span class=p>,</span>
<a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a>        <span class=s2>"complex"</span><span class=p>:</span> <span class=s2>"High"</span><span class=p>,</span>
<a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a>    <span class=p>}</span>
<a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a>
<a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a>    <span class=n>level</span> <span class=o>=</span> <span class=n>thinking_levels</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>task_complexity</span><span class=p>,</span> <span class=s2>"Medium"</span><span class=p>)</span>
<a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a>
<a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a>    <span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a>        <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a>            <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-flash-preview"</span><span class=p>,</span>
<a id=__codelineno-5-16 name=__codelineno-5-16 href=#__codelineno-5-16></a>            <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-5-17 name=__codelineno-5-17 href=#__codelineno-5-17></a>            <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-5-18 name=__codelineno-5-18 href=#__codelineno-5-18></a>            <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=n>level</span><span class=p>,</span>
<a id=__codelineno-5-19 name=__codelineno-5-19 href=#__codelineno-5-19></a>            <span class=s2>"include_thoughts"</span><span class=p>:</span> <span class=n>task_complexity</span> <span class=o>==</span> <span class=s2>"complex"</span><span class=p>,</span>  <span class=c1># Show thoughts for complex tasks</span>
<a id=__codelineno-5-20 name=__codelineno-5-20 href=#__codelineno-5-20></a>        <span class=p>}</span>
<a id=__codelineno-5-21 name=__codelineno-5-21 href=#__codelineno-5-21></a>    <span class=p>)</span>
<a id=__codelineno-5-22 name=__codelineno-5-22 href=#__codelineno-5-22></a>
<a id=__codelineno-5-23 name=__codelineno-5-23 href=#__codelineno-5-23></a>    <span class=k>return</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-5-24 name=__codelineno-5-24 href=#__codelineno-5-24></a>        <span class=n>name</span><span class=o>=</span><span class=s2>"adaptive_agent"</span><span class=p>,</span>
<a id=__codelineno-5-25 name=__codelineno-5-25 href=#__codelineno-5-25></a>        <span class=n>description</span><span class=o>=</span><span class=s2>"you are a helpful assistant"</span><span class=p>,</span>
<a id=__codelineno-5-26 name=__codelineno-5-26 href=#__codelineno-5-26></a>        <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span>
<a id=__codelineno-5-27 name=__codelineno-5-27 href=#__codelineno-5-27></a>    <span class=p>)</span>
<a id=__codelineno-5-28 name=__codelineno-5-28 href=#__codelineno-5-28></a>
<a id=__codelineno-5-29 name=__codelineno-5-29 href=#__codelineno-5-29></a><span class=c1># Use for different complexity levels</span>
<a id=__codelineno-5-30 name=__codelineno-5-30 href=#__codelineno-5-30></a><span class=n>simple_agent</span> <span class=o>=</span> <span class=n>create_agent_for_task</span><span class=p>(</span><span class=s2>"simple"</span><span class=p>,</span> <span class=n>api_key</span><span class=p>)</span>
<a id=__codelineno-5-31 name=__codelineno-5-31 href=#__codelineno-5-31></a><span class=n>complex_agent</span> <span class=o>=</span> <span class=n>create_agent_for_task</span><span class=p>(</span><span class=s2>"complex"</span><span class=p>,</span> <span class=n>api_key</span><span class=p>)</span>
</code></pre></div><p></p> <h3 id=example-4-research-assistant-with-thought-transparency>Example 4: Research Assistant with Thought Transparency<a class=headerlink href=#example-4-research-assistant-with-thought-transparency title="Permanent link">#</a></h3> <p>For research tasks, enable thinking and include thoughts for transparency: </p><div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-pro-preview"</span><span class=p>,</span>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a>        <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=s2>"High"</span><span class=p>,</span>
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a>        <span class=s2>"include_thoughts"</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>  <span class=c1># Show reasoning process</span>
<a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a>    <span class=p>}</span>
<a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a><span class=p>)</span>
<a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a>
<a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a><span class=n>research_assistant</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a>    <span class=n>name</span><span class=o>=</span><span class=s2>"research_assistant"</span><span class=p>,</span>
<a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a>    <span class=n>system_message</span><span class=o>=</span><span class=s2>"You are a research assistant. Think through problems carefully and show your reasoning."</span><span class=p>,</span>
<a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a>    <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span><span class=p>,</span>
<a id=__codelineno-6-15 name=__codelineno-6-15 href=#__codelineno-6-15></a>    <span class=n>human_input_mode</span><span class=o>=</span><span class=s2>"NEVER"</span><span class=p>,</span>
<a id=__codelineno-6-16 name=__codelineno-6-16 href=#__codelineno-6-16></a><span class=p>)</span>
<a id=__codelineno-6-17 name=__codelineno-6-17 href=#__codelineno-6-17></a>
<a id=__codelineno-6-18 name=__codelineno-6-18 href=#__codelineno-6-18></a><span class=n>result</span> <span class=o>=</span> <span class=n>research_assistant</span><span class=o>.</span><span class=n>run</span><span class=p>(</span>
<a id=__codelineno-6-19 name=__codelineno-6-19 href=#__codelineno-6-19></a>    <span class=n>message</span><span class=o>=</span><span class=s2>"Research the latest developments in transformer architectures and summarize key findings"</span><span class=p>,</span>
<a id=__codelineno-6-20 name=__codelineno-6-20 href=#__codelineno-6-20></a>    <span class=n>max_turns</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span>
<a id=__codelineno-6-21 name=__codelineno-6-21 href=#__codelineno-6-21></a><span class=p>)</span>
<a id=__codelineno-6-22 name=__codelineno-6-22 href=#__codelineno-6-22></a><span class=n>result</span><span class=o>.</span><span class=n>process</span><span class=p>()</span>
</code></pre></div><p></p> <p>When <code>include_thoughts=True</code>, the agent's response will contain: 1. The thought summary (internal reasoning) 2. The final answer</p> <p>This helps you understand how the agent approaches the problem.</p> <h3 id=example-5-cost-optimized-configuration>Example 5: Cost-Optimized Configuration<a class=headerlink href=#example-5-cost-optimized-configuration title="Permanent link">#</a></h3> <p>For scenarios where cost matters more than deep reasoning:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=c1># Minimal thinking for cost optimization</span>
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-flash-preview"</span><span class=p>,</span>
<a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a>        <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=s2>"Minimal"</span><span class=p>,</span>  <span class=c1># Minimize thinking tokens</span>
<a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a>        <span class=s2>"include_thoughts"</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>     <span class=c1># Don't include thought summaries</span>
<a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a>    <span class=p>}</span>
<a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a><span class=p>)</span>
<a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a>
<a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a><span class=n>agent</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a>    <span class=n>name</span><span class=o>=</span><span class=s2>"efficient_agent"</span><span class=p>,</span>
<a id=__codelineno-7-14 name=__codelineno-7-14 href=#__codelineno-7-14></a>    <span class=n>description</span><span class=o>=</span><span class=s2>"you are a helpful assistant"</span><span class=p>,</span>
<a id=__codelineno-7-15 name=__codelineno-7-15 href=#__codelineno-7-15></a>    <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span>
<a id=__codelineno-7-16 name=__codelineno-7-16 href=#__codelineno-7-16></a><span class=p>)</span>
<a id=__codelineno-7-17 name=__codelineno-7-17 href=#__codelineno-7-17></a>
<a id=__codelineno-7-18 name=__codelineno-7-18 href=#__codelineno-7-18></a><span class=n>response</span> <span class=o>=</span> <span class=n>agent</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>message</span><span class=o>=</span><span class=s2>"Answer this straightforward question"</span><span class=p>,</span> <span class=n>max_turns</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
<a id=__codelineno-7-19 name=__codelineno-7-19 href=#__codelineno-7-19></a><span class=n>response</span><span class=o>.</span><span class=n>process</span><span class=p>()</span>
</code></pre></div> <h2 id=advanced-patterns>Advanced Patterns<a class=headerlink href=#advanced-patterns title="Permanent link">#</a></h2> <h3 id=pattern-1-model-aware-configuration>Pattern 1: Model-Aware Configuration<a class=headerlink href=#pattern-1-model-aware-configuration title="Permanent link">#</a></h3> <p>Handle different models with appropriate parameters: </p><div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=k>def</span><span class=w> </span><span class=nf>create_thinking_config</span><span class=p>(</span><span class=n>model_name</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>api_key</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>thinking_intensity</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>"medium"</span><span class=p>):</span>
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=w>    </span><span class=sd>"""Create appropriate thinking config based on model."""</span>
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>    <span class=n>base_config</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a>    <span class=p>}</span>
<a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a>
<a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a>    <span class=k>if</span> <span class=s2>"3"</span> <span class=ow>in</span> <span class=n>model_name</span><span class=p>:</span>
<a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a>        <span class=c1># Gemini 3: use thinking_level</span>
<a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a>        <span class=n>thinking_map</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a>            <span class=s2>"low"</span><span class=p>:</span> <span class=s2>"Low"</span><span class=p>,</span>
<a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a>            <span class=s2>"medium"</span><span class=p>:</span> <span class=s2>"Medium"</span><span class=p>,</span>
<a id=__codelineno-8-14 name=__codelineno-8-14 href=#__codelineno-8-14></a>            <span class=s2>"high"</span><span class=p>:</span> <span class=s2>"High"</span><span class=p>,</span>
<a id=__codelineno-8-15 name=__codelineno-8-15 href=#__codelineno-8-15></a>            <span class=s2>"minimal"</span><span class=p>:</span> <span class=s2>"Minimal"</span><span class=p>,</span>
<a id=__codelineno-8-16 name=__codelineno-8-16 href=#__codelineno-8-16></a>        <span class=p>}</span>
<a id=__codelineno-8-17 name=__codelineno-8-17 href=#__codelineno-8-17></a>        <span class=n>base_config</span><span class=o>.</span><span class=n>update</span><span class=p>({</span>
<a id=__codelineno-8-18 name=__codelineno-8-18 href=#__codelineno-8-18></a>            <span class=s2>"model"</span><span class=p>:</span> <span class=n>model_name</span><span class=p>,</span>
<a id=__codelineno-8-19 name=__codelineno-8-19 href=#__codelineno-8-19></a>            <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=n>thinking_map</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>thinking_intensity</span><span class=p>,</span> <span class=s2>"Medium"</span><span class=p>),</span>
<a id=__codelineno-8-20 name=__codelineno-8-20 href=#__codelineno-8-20></a>        <span class=p>})</span>
<a id=__codelineno-8-21 name=__codelineno-8-21 href=#__codelineno-8-21></a>    <span class=k>elif</span> <span class=s2>"2.5"</span> <span class=ow>in</span> <span class=n>model_name</span><span class=p>:</span>
<a id=__codelineno-8-22 name=__codelineno-8-22 href=#__codelineno-8-22></a>        <span class=c1># Gemini 2.5: use thinking_budget</span>
<a id=__codelineno-8-23 name=__codelineno-8-23 href=#__codelineno-8-23></a>        <span class=n>budget_map</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-8-24 name=__codelineno-8-24 href=#__codelineno-8-24></a>            <span class=s2>"low"</span><span class=p>:</span> <span class=mi>2048</span><span class=p>,</span>
<a id=__codelineno-8-25 name=__codelineno-8-25 href=#__codelineno-8-25></a>            <span class=s2>"medium"</span><span class=p>:</span> <span class=mi>4096</span><span class=p>,</span>
<a id=__codelineno-8-26 name=__codelineno-8-26 href=#__codelineno-8-26></a>            <span class=s2>"high"</span><span class=p>:</span> <span class=mi>8192</span><span class=p>,</span>
<a id=__codelineno-8-27 name=__codelineno-8-27 href=#__codelineno-8-27></a>            <span class=s2>"minimal"</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
<a id=__codelineno-8-28 name=__codelineno-8-28 href=#__codelineno-8-28></a>        <span class=p>}</span>
<a id=__codelineno-8-29 name=__codelineno-8-29 href=#__codelineno-8-29></a>        <span class=n>base_config</span><span class=o>.</span><span class=n>update</span><span class=p>({</span>
<a id=__codelineno-8-30 name=__codelineno-8-30 href=#__codelineno-8-30></a>            <span class=s2>"model"</span><span class=p>:</span> <span class=n>model_name</span><span class=p>,</span>
<a id=__codelineno-8-31 name=__codelineno-8-31 href=#__codelineno-8-31></a>            <span class=s2>"thinking_budget"</span><span class=p>:</span> <span class=n>budget_map</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>thinking_intensity</span><span class=p>,</span> <span class=mi>4096</span><span class=p>),</span>
<a id=__codelineno-8-32 name=__codelineno-8-32 href=#__codelineno-8-32></a>        <span class=p>})</span>
<a id=__codelineno-8-33 name=__codelineno-8-33 href=#__codelineno-8-33></a>    <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-8-34 name=__codelineno-8-34 href=#__codelineno-8-34></a>        <span class=c1># Fallback: no thinking config</span>
<a id=__codelineno-8-35 name=__codelineno-8-35 href=#__codelineno-8-35></a>        <span class=n>base_config</span><span class=p>[</span><span class=s2>"model"</span><span class=p>]</span> <span class=o>=</span> <span class=n>model_name</span>
<a id=__codelineno-8-36 name=__codelineno-8-36 href=#__codelineno-8-36></a>
<a id=__codelineno-8-37 name=__codelineno-8-37 href=#__codelineno-8-37></a>    <span class=k>return</span> <span class=n>LLMConfig</span><span class=p>(</span><span class=n>config_list</span><span class=o>=</span><span class=n>base_config</span><span class=p>)</span>
<a id=__codelineno-8-38 name=__codelineno-8-38 href=#__codelineno-8-38></a>
<a id=__codelineno-8-39 name=__codelineno-8-39 href=#__codelineno-8-39></a><span class=c1># Use for different models</span>
<a id=__codelineno-8-40 name=__codelineno-8-40 href=#__codelineno-8-40></a><span class=n>config_3_pro</span> <span class=o>=</span> <span class=n>create_thinking_config</span><span class=p>(</span><span class=s2>"gemini-3-pro-preview"</span><span class=p>,</span> <span class=n>api_key</span><span class=p>,</span> <span class=s2>"high"</span><span class=p>)</span>
<a id=__codelineno-8-41 name=__codelineno-8-41 href=#__codelineno-8-41></a><span class=n>config_2_5_flash</span> <span class=o>=</span> <span class=n>create_thinking_config</span><span class=p>(</span><span class=s2>"gemini-2.5-flash"</span><span class=p>,</span> <span class=n>api_key</span><span class=p>,</span> <span class=s2>"medium"</span><span class=p>)</span>
</code></pre></div><p></p> <h3 id=pattern-2-thinking-aware-task-routing>Pattern 2: Thinking-Aware Task Routing<a class=headerlink href=#pattern-2-thinking-aware-task-routing title="Permanent link">#</a></h3> <p>Route tasks to agents based on required thinking depth: </p><div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=k>class</span><span class=w> </span><span class=nc>ThinkingAgentRouter</span><span class=p>:</span>
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=w>    </span><span class=sd>"""Route tasks to agents with appropriate thinking configurations."""</span>
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>
<a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>api_key</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a>        <span class=bp>self</span><span class=o>.</span><span class=n>api_key</span> <span class=o>=</span> <span class=n>api_key</span>
<a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>        <span class=bp>self</span><span class=o>.</span><span class=n>agents</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a>            <span class=s2>"simple"</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>_create_agent</span><span class=p>(</span><span class=s2>"Low"</span><span class=p>,</span> <span class=kc>False</span><span class=p>),</span>
<a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a>            <span class=s2>"moderate"</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>_create_agent</span><span class=p>(</span><span class=s2>"Medium"</span><span class=p>,</span> <span class=kc>False</span><span class=p>),</span>
<a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a>            <span class=s2>"complex"</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>_create_agent</span><span class=p>(</span><span class=s2>"High"</span><span class=p>,</span> <span class=kc>True</span><span class=p>),</span>
<a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a>        <span class=p>}</span>
<a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a>
<a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a>    <span class=k>def</span><span class=w> </span><span class=nf>_create_agent</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>level</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>include_thoughts</span><span class=p>:</span> <span class=nb>bool</span><span class=p>):</span>
<a id=__codelineno-9-13 name=__codelineno-9-13 href=#__codelineno-9-13></a>        <span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-9-14 name=__codelineno-9-14 href=#__codelineno-9-14></a>            <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-9-15 name=__codelineno-9-15 href=#__codelineno-9-15></a>                <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-flash-preview"</span><span class=p>,</span>
<a id=__codelineno-9-16 name=__codelineno-9-16 href=#__codelineno-9-16></a>                <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-9-17 name=__codelineno-9-17 href=#__codelineno-9-17></a>                <span class=s2>"api_key"</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-9-18 name=__codelineno-9-18 href=#__codelineno-9-18></a>                <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=n>level</span><span class=p>,</span>
<a id=__codelineno-9-19 name=__codelineno-9-19 href=#__codelineno-9-19></a>                <span class=s2>"include_thoughts"</span><span class=p>:</span> <span class=n>include_thoughts</span><span class=p>,</span>
<a id=__codelineno-9-20 name=__codelineno-9-20 href=#__codelineno-9-20></a>            <span class=p>}</span>
<a id=__codelineno-9-21 name=__codelineno-9-21 href=#__codelineno-9-21></a>        <span class=p>)</span>
<a id=__codelineno-9-22 name=__codelineno-9-22 href=#__codelineno-9-22></a>        <span class=k>return</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-9-23 name=__codelineno-9-23 href=#__codelineno-9-23></a>            <span class=n>name</span><span class=o>=</span><span class=sa>f</span><span class=s2>"agent_</span><span class=si>{</span><span class=n>level</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span><span class=si>}</span><span class=s2>"</span><span class=p>,</span>
<a id=__codelineno-9-24 name=__codelineno-9-24 href=#__codelineno-9-24></a>            <span class=n>description</span><span class=o>=</span><span class=s2>"you are a helpful assistant"</span><span class=p>,</span>
<a id=__codelineno-9-25 name=__codelineno-9-25 href=#__codelineno-9-25></a>            <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span>
<a id=__codelineno-9-26 name=__codelineno-9-26 href=#__codelineno-9-26></a>        <span class=p>)</span>
<a id=__codelineno-9-27 name=__codelineno-9-27 href=#__codelineno-9-27></a>
<a id=__codelineno-9-28 name=__codelineno-9-28 href=#__codelineno-9-28></a>    <span class=k>def</span><span class=w> </span><span class=nf>route</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>query</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>ConversableAgent</span><span class=p>:</span>
<a id=__codelineno-9-29 name=__codelineno-9-29 href=#__codelineno-9-29></a><span class=w>        </span><span class=sd>"""Route query to appropriate agent based on complexity."""</span>
<a id=__codelineno-9-30 name=__codelineno-9-30 href=#__codelineno-9-30></a>        <span class=n>query_lower</span> <span class=o>=</span> <span class=n>query</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
<a id=__codelineno-9-31 name=__codelineno-9-31 href=#__codelineno-9-31></a>
<a id=__codelineno-9-32 name=__codelineno-9-32 href=#__codelineno-9-32></a>        <span class=c1># Simple heuristics for routing</span>
<a id=__codelineno-9-33 name=__codelineno-9-33 href=#__codelineno-9-33></a>        <span class=k>if</span> <span class=nb>any</span><span class=p>(</span><span class=n>word</span> <span class=ow>in</span> <span class=n>query_lower</span> <span class=k>for</span> <span class=n>word</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>"analyze"</span><span class=p>,</span> <span class=s2>"explain why"</span><span class=p>,</span> <span class=s2>"reason"</span><span class=p>,</span> <span class=s2>"complex"</span><span class=p>]):</span>
<a id=__codelineno-9-34 name=__codelineno-9-34 href=#__codelineno-9-34></a>            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>agents</span><span class=p>[</span><span class=s2>"complex"</span><span class=p>]</span>
<a id=__codelineno-9-35 name=__codelineno-9-35 href=#__codelineno-9-35></a>        <span class=k>elif</span> <span class=nb>any</span><span class=p>(</span><span class=n>word</span> <span class=ow>in</span> <span class=n>query_lower</span> <span class=k>for</span> <span class=n>word</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>"compare"</span><span class=p>,</span> <span class=s2>"evaluate"</span><span class=p>,</span> <span class=s2>"discuss"</span><span class=p>]):</span>
<a id=__codelineno-9-36 name=__codelineno-9-36 href=#__codelineno-9-36></a>            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>agents</span><span class=p>[</span><span class=s2>"moderate"</span><span class=p>]</span>
<a id=__codelineno-9-37 name=__codelineno-9-37 href=#__codelineno-9-37></a>        <span class=k>else</span><span class=p>:</span>
<a id=__codelineno-9-38 name=__codelineno-9-38 href=#__codelineno-9-38></a>            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>agents</span><span class=p>[</span><span class=s2>"simple"</span><span class=p>]</span>
<a id=__codelineno-9-39 name=__codelineno-9-39 href=#__codelineno-9-39></a>
<a id=__codelineno-9-40 name=__codelineno-9-40 href=#__codelineno-9-40></a><span class=c1># Use the router</span>
<a id=__codelineno-9-41 name=__codelineno-9-41 href=#__codelineno-9-41></a><span class=n>router</span> <span class=o>=</span> <span class=n>ThinkingAgentRouter</span><span class=p>(</span><span class=n>api_key</span><span class=p>)</span>
<a id=__codelineno-9-42 name=__codelineno-9-42 href=#__codelineno-9-42></a><span class=n>agent</span> <span class=o>=</span> <span class=n>router</span><span class=o>.</span><span class=n>route</span><span class=p>(</span><span class=s2>"Analyze the complex relationship between these concepts"</span><span class=p>)</span>
<a id=__codelineno-9-43 name=__codelineno-9-43 href=#__codelineno-9-43></a><span class=n>result</span> <span class=o>=</span> <span class=n>agent</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>message</span><span class=o>=</span><span class=s2>"Your query here"</span><span class=p>,</span> <span class=n>max_turns</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
<a id=__codelineno-9-44 name=__codelineno-9-44 href=#__codelineno-9-44></a><span class=n>result</span><span class=o>.</span><span class=n>process</span><span class=p>()</span>
</code></pre></div><p></p> <h3 id=pattern-3-ab-testing-thinking-configurations>Pattern 3: A/B Testing Thinking Configurations<a class=headerlink href=#pattern-3-ab-testing-thinking-configurations title="Permanent link">#</a></h3> <p>Compare performance across different thinking configurations:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=k>def</span><span class=w> </span><span class=nf>compare_thinking_levels</span><span class=p>(</span><span class=n>query</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>api_key</span><span class=p>:</span> <span class=nb>str</span><span class=p>):</span>
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=w>    </span><span class=sd>"""Compare responses across different thinking levels."""</span>
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>
<a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>    <span class=n>levels</span> <span class=o>=</span> <span class=p>[</span><span class=s2>"Low"</span><span class=p>,</span> <span class=s2>"Medium"</span><span class=p>,</span> <span class=s2>"High"</span><span class=p>]</span>
<a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>    <span class=n>results</span> <span class=o>=</span> <span class=p>{}</span>
<a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a>
<a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a>    <span class=k>for</span> <span class=n>level</span> <span class=ow>in</span> <span class=n>levels</span><span class=p>:</span>
<a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a>        <span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a>            <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a>                <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-flash-preview"</span><span class=p>,</span>
<a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a>                <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a>                <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-10-13 name=__codelineno-10-13 href=#__codelineno-10-13></a>                <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=n>level</span><span class=p>,</span>
<a id=__codelineno-10-14 name=__codelineno-10-14 href=#__codelineno-10-14></a>                <span class=s2>"include_thoughts"</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>  <span class=c1># Include thoughts for comparison</span>
<a id=__codelineno-10-15 name=__codelineno-10-15 href=#__codelineno-10-15></a>            <span class=p>}</span>
<a id=__codelineno-10-16 name=__codelineno-10-16 href=#__codelineno-10-16></a>        <span class=p>)</span>
<a id=__codelineno-10-17 name=__codelineno-10-17 href=#__codelineno-10-17></a>
<a id=__codelineno-10-18 name=__codelineno-10-18 href=#__codelineno-10-18></a>        <span class=n>agent</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-10-19 name=__codelineno-10-19 href=#__codelineno-10-19></a>            <span class=n>name</span><span class=o>=</span><span class=sa>f</span><span class=s2>"agent_</span><span class=si>{</span><span class=n>level</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span><span class=si>}</span><span class=s2>"</span><span class=p>,</span>
<a id=__codelineno-10-20 name=__codelineno-10-20 href=#__codelineno-10-20></a>            <span class=n>description</span><span class=o>=</span><span class=s2>"you are a helpful assistant"</span><span class=p>,</span>
<a id=__codelineno-10-21 name=__codelineno-10-21 href=#__codelineno-10-21></a>            <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span>
<a id=__codelineno-10-22 name=__codelineno-10-22 href=#__codelineno-10-22></a>        <span class=p>)</span>
<a id=__codelineno-10-23 name=__codelineno-10-23 href=#__codelineno-10-23></a>
<a id=__codelineno-10-24 name=__codelineno-10-24 href=#__codelineno-10-24></a>        <span class=n>result</span> <span class=o>=</span> <span class=n>agent</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>message</span><span class=o>=</span><span class=n>query</span><span class=p>,</span> <span class=n>max_turns</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
<a id=__codelineno-10-25 name=__codelineno-10-25 href=#__codelineno-10-25></a>        <span class=n>result</span><span class=o>.</span><span class=n>process</span><span class=p>()</span>
<a id=__codelineno-10-26 name=__codelineno-10-26 href=#__codelineno-10-26></a>        <span class=n>results</span><span class=p>[</span><span class=n>level</span><span class=p>]</span> <span class=o>=</span> <span class=n>result</span>
<a id=__codelineno-10-27 name=__codelineno-10-27 href=#__codelineno-10-27></a>
<a id=__codelineno-10-28 name=__codelineno-10-28 href=#__codelineno-10-28></a>    <span class=k>return</span> <span class=n>results</span>
<a id=__codelineno-10-29 name=__codelineno-10-29 href=#__codelineno-10-29></a>
<a id=__codelineno-10-30 name=__codelineno-10-30 href=#__codelineno-10-30></a><span class=c1># Compare configurations</span>
<a id=__codelineno-10-31 name=__codelineno-10-31 href=#__codelineno-10-31></a><span class=n>comparison</span> <span class=o>=</span> <span class=n>compare_thinking_levels</span><span class=p>(</span>
<a id=__codelineno-10-32 name=__codelineno-10-32 href=#__codelineno-10-32></a>    <span class=s2>"Solve this complex logic puzzle: ..."</span><span class=p>,</span>
<a id=__codelineno-10-33 name=__codelineno-10-33 href=#__codelineno-10-33></a>    <span class=n>api_key</span>
<a id=__codelineno-10-34 name=__codelineno-10-34 href=#__codelineno-10-34></a><span class=p>)</span>
</code></pre></div> <h2 id=best-practices>Best Practices<a class=headerlink href=#best-practices title="Permanent link">#</a></h2> <h3 id=1-choose-the-right-parameter-for-your-model>1. Choose the Right Parameter for Your Model<a class=headerlink href=#1-choose-the-right-parameter-for-your-model title="Permanent link">#</a></h3> <p>Use <code>thinking_level</code> for Gemini 3 models and <code>thinking_budget</code> for Gemini 2.5: </p><div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=c1>#  Good: thinking_level for Gemini 3</span>
<a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-pro-preview"</span><span class=p>,</span>
<a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a>        <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=s2>"High"</span><span class=p>,</span>  <span class=c1># Recommended for Gemini 3</span>
<a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a>    <span class=p>}</span>
<a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a><span class=p>)</span>
<a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a>
<a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a><span class=c1>#  Good: thinking_budget for Gemini 2.5</span>
<a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-11-14 name=__codelineno-11-14 href=#__codelineno-11-14></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-2.5-flash"</span><span class=p>,</span>
<a id=__codelineno-11-15 name=__codelineno-11-15 href=#__codelineno-11-15></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-11-16 name=__codelineno-11-16 href=#__codelineno-11-16></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-11-17 name=__codelineno-11-17 href=#__codelineno-11-17></a>        <span class=s2>"thinking_budget"</span><span class=p>:</span> <span class=mi>4096</span><span class=p>,</span>  <span class=c1># Appropriate for Gemini 2.5</span>
<a id=__codelineno-11-18 name=__codelineno-11-18 href=#__codelineno-11-18></a>    <span class=p>}</span>
<a id=__codelineno-11-19 name=__codelineno-11-19 href=#__codelineno-11-19></a><span class=p>)</span>
<a id=__codelineno-11-20 name=__codelineno-11-20 href=#__codelineno-11-20></a>
<a id=__codelineno-11-21 name=__codelineno-11-21 href=#__codelineno-11-21></a><span class=c1>#  Avoid: thinking_budget with Gemini 3 (backwards compatible but suboptimal)</span>
<a id=__codelineno-11-22 name=__codelineno-11-22 href=#__codelineno-11-22></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-11-23 name=__codelineno-11-23 href=#__codelineno-11-23></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-11-24 name=__codelineno-11-24 href=#__codelineno-11-24></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-pro-preview"</span><span class=p>,</span>
<a id=__codelineno-11-25 name=__codelineno-11-25 href=#__codelineno-11-25></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-11-26 name=__codelineno-11-26 href=#__codelineno-11-26></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-11-27 name=__codelineno-11-27 href=#__codelineno-11-27></a>        <span class=s2>"thinking_budget"</span><span class=p>:</span> <span class=mi>4096</span><span class=p>,</span>  <span class=c1># Works but not recommended</span>
<a id=__codelineno-11-28 name=__codelineno-11-28 href=#__codelineno-11-28></a>    <span class=p>}</span>
<a id=__codelineno-11-29 name=__codelineno-11-29 href=#__codelineno-11-29></a><span class=p>)</span>
</code></pre></div><p></p> <h3 id=2-enable-thoughts-for-debugging-and-transparency>2. Enable Thoughts for Debugging and Transparency<a class=headerlink href=#2-enable-thoughts-for-debugging-and-transparency title="Permanent link">#</a></h3> <p>Use <code>include_thoughts=True</code> when you need to understand the reasoning process:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=c1>#  Good: Include thoughts for complex tasks</span>
<a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-pro-preview"</span><span class=p>,</span>
<a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a>        <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=s2>"High"</span><span class=p>,</span>
<a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a>        <span class=s2>"include_thoughts"</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>  <span class=c1># See reasoning process</span>
<a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a>    <span class=p>}</span>
<a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a><span class=p>)</span>
<a id=__codelineno-12-11 name=__codelineno-12-11 href=#__codelineno-12-11></a>
<a id=__codelineno-12-12 name=__codelineno-12-12 href=#__codelineno-12-12></a><span class=c1>#  Good: Hide thoughts for production/simple tasks</span>
<a id=__codelineno-12-13 name=__codelineno-12-13 href=#__codelineno-12-13></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-12-14 name=__codelineno-12-14 href=#__codelineno-12-14></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-12-15 name=__codelineno-12-15 href=#__codelineno-12-15></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-flash-preview"</span><span class=p>,</span>
<a id=__codelineno-12-16 name=__codelineno-12-16 href=#__codelineno-12-16></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-12-17 name=__codelineno-12-17 href=#__codelineno-12-17></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-12-18 name=__codelineno-12-18 href=#__codelineno-12-18></a>        <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=s2>"Low"</span><span class=p>,</span>
<a id=__codelineno-12-19 name=__codelineno-12-19 href=#__codelineno-12-19></a>        <span class=s2>"include_thoughts"</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>  <span class=c1># Cleaner output</span>
<a id=__codelineno-12-20 name=__codelineno-12-20 href=#__codelineno-12-20></a>    <span class=p>}</span>
<a id=__codelineno-12-21 name=__codelineno-12-21 href=#__codelineno-12-21></a><span class=p>)</span>
</code></pre></div> <h3 id=3-match-thinking-intensity-to-task-complexity>3. Match Thinking Intensity to Task Complexity<a class=headerlink href=#3-match-thinking-intensity-to-task-complexity title="Permanent link">#</a></h3> <p>Adjust thinking level based on your use case:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=c1>#  Good: High thinking for complex tasks</span>
<a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a><span class=n>complex_task_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-pro-preview"</span><span class=p>,</span>
<a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-13-6 name=__codelineno-13-6 href=#__codelineno-13-6></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-13-7 name=__codelineno-13-7 href=#__codelineno-13-7></a>        <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=s2>"High"</span><span class=p>,</span>  <span class=c1># Complex reasoning needed</span>
<a id=__codelineno-13-8 name=__codelineno-13-8 href=#__codelineno-13-8></a>    <span class=p>}</span>
<a id=__codelineno-13-9 name=__codelineno-13-9 href=#__codelineno-13-9></a><span class=p>)</span>
<a id=__codelineno-13-10 name=__codelineno-13-10 href=#__codelineno-13-10></a>
<a id=__codelineno-13-11 name=__codelineno-13-11 href=#__codelineno-13-11></a><span class=c1>#  Good: Low thinking for simple tasks</span>
<a id=__codelineno-13-12 name=__codelineno-13-12 href=#__codelineno-13-12></a><span class=n>simple_task_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-13-13 name=__codelineno-13-13 href=#__codelineno-13-13></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-13-14 name=__codelineno-13-14 href=#__codelineno-13-14></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-flash-preview"</span><span class=p>,</span>
<a id=__codelineno-13-15 name=__codelineno-13-15 href=#__codelineno-13-15></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-13-16 name=__codelineno-13-16 href=#__codelineno-13-16></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-13-17 name=__codelineno-13-17 href=#__codelineno-13-17></a>        <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=s2>"Low"</span><span class=p>,</span>  <span class=c1># Simple task, save tokens</span>
<a id=__codelineno-13-18 name=__codelineno-13-18 href=#__codelineno-13-18></a>    <span class=p>}</span>
<a id=__codelineno-13-19 name=__codelineno-13-19 href=#__codelineno-13-19></a><span class=p>)</span>
</code></pre></div> <h3 id=4-use-appropriate-budget-values>4. Use Appropriate Budget Values<a class=headerlink href=#4-use-appropriate-budget-values title="Permanent link">#</a></h3> <p>When using <code>thinking_budget</code>, stay within model-specific ranges:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=c1>#  Good: Use -1 for automatic budget</span>
<a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-2.5-flash"</span><span class=p>,</span>
<a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a>        <span class=s2>"thinking_budget"</span><span class=p>:</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span>  <span class=c1># Let model decide</span>
<a id=__codelineno-14-8 name=__codelineno-14-8 href=#__codelineno-14-8></a>    <span class=p>}</span>
<a id=__codelineno-14-9 name=__codelineno-14-9 href=#__codelineno-14-9></a><span class=p>)</span>
<a id=__codelineno-14-10 name=__codelineno-14-10 href=#__codelineno-14-10></a>
<a id=__codelineno-14-11 name=__codelineno-14-11 href=#__codelineno-14-11></a><span class=c1>#  Good: Use reasonable budget values</span>
<a id=__codelineno-14-12 name=__codelineno-14-12 href=#__codelineno-14-12></a><span class=c1># Check model documentation for specific ranges</span>
<a id=__codelineno-14-13 name=__codelineno-14-13 href=#__codelineno-14-13></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-14-14 name=__codelineno-14-14 href=#__codelineno-14-14></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-14-15 name=__codelineno-14-15 href=#__codelineno-14-15></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-2.5-flash"</span><span class=p>,</span>
<a id=__codelineno-14-16 name=__codelineno-14-16 href=#__codelineno-14-16></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-14-17 name=__codelineno-14-17 href=#__codelineno-14-17></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-14-18 name=__codelineno-14-18 href=#__codelineno-14-18></a>        <span class=s2>"thinking_budget"</span><span class=p>:</span> <span class=mi>4096</span><span class=p>,</span>  <span class=c1># Typical range: 1024-8192</span>
<a id=__codelineno-14-19 name=__codelineno-14-19 href=#__codelineno-14-19></a>    <span class=p>}</span>
<a id=__codelineno-14-20 name=__codelineno-14-20 href=#__codelineno-14-20></a><span class=p>)</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=c1>#  Bad: Budget might be outside model limits</span>
<a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-2.5-flash"</span><span class=p>,</span>
<a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-15-7 name=__codelineno-15-7 href=#__codelineno-15-7></a>        <span class=s2>"thinking_budget"</span><span class=p>:</span> <span class=mi>999999</span><span class=p>,</span>  <span class=c1># Likely exceeds model limits</span>
<a id=__codelineno-15-8 name=__codelineno-15-8 href=#__codelineno-15-8></a>    <span class=p>}</span>
<a id=__codelineno-15-9 name=__codelineno-15-9 href=#__codelineno-15-9></a><span class=p>)</span>
</code></pre></div> <h3 id=5-consider-cost-vs-quality-trade-offs>5. Consider Cost vs. Quality Trade-offs<a class=headerlink href=#5-consider-cost-vs-quality-trade-offs title="Permanent link">#</a></h3> <p>Balance thinking depth with cost considerations:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=c1># Production: Balanced approach</span>
<a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a><span class=n>production_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-flash-preview"</span><span class=p>,</span>
<a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-16-6 name=__codelineno-16-6 href=#__codelineno-16-6></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-16-7 name=__codelineno-16-7 href=#__codelineno-16-7></a>        <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=s2>"Medium"</span><span class=p>,</span>  <span class=c1># Balance quality and cost</span>
<a id=__codelineno-16-8 name=__codelineno-16-8 href=#__codelineno-16-8></a>        <span class=s2>"include_thoughts"</span><span class=p>:</span> <span class=kc>False</span><span class=p>,</span>    <span class=c1># Reduce output tokens</span>
<a id=__codelineno-16-9 name=__codelineno-16-9 href=#__codelineno-16-9></a>    <span class=p>}</span>
<a id=__codelineno-16-10 name=__codelineno-16-10 href=#__codelineno-16-10></a><span class=p>)</span>
<a id=__codelineno-16-11 name=__codelineno-16-11 href=#__codelineno-16-11></a>
<a id=__codelineno-16-12 name=__codelineno-16-12 href=#__codelineno-16-12></a><span class=c1># Development/Debugging: Full transparency</span>
<a id=__codelineno-16-13 name=__codelineno-16-13 href=#__codelineno-16-13></a><span class=n>debug_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-16-14 name=__codelineno-16-14 href=#__codelineno-16-14></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-16-15 name=__codelineno-16-15 href=#__codelineno-16-15></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-pro-preview"</span><span class=p>,</span>
<a id=__codelineno-16-16 name=__codelineno-16-16 href=#__codelineno-16-16></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-16-17 name=__codelineno-16-17 href=#__codelineno-16-17></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-16-18 name=__codelineno-16-18 href=#__codelineno-16-18></a>        <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=s2>"High"</span><span class=p>,</span>     <span class=c1># Maximum quality</span>
<a id=__codelineno-16-19 name=__codelineno-16-19 href=#__codelineno-16-19></a>        <span class=s2>"include_thoughts"</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>      <span class=c1># Full transparency</span>
<a id=__codelineno-16-20 name=__codelineno-16-20 href=#__codelineno-16-20></a>    <span class=p>}</span>
<a id=__codelineno-16-21 name=__codelineno-16-21 href=#__codelineno-16-21></a><span class=p>)</span>
</code></pre></div> <h3 id=6-dont-mix-thinking_level-and-thinking_budget>6. Don't Mix thinking_level and thinking_budget<a class=headerlink href=#6-dont-mix-thinking_level-and-thinking_budget title="Permanent link">#</a></h3> <p>Use one or the other, not both:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=c1>#  Good: Use thinking_level only</span>
<a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-pro-preview"</span><span class=p>,</span>
<a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-17-6 name=__codelineno-17-6 href=#__codelineno-17-6></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-17-7 name=__codelineno-17-7 href=#__codelineno-17-7></a>        <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=s2>"High"</span><span class=p>,</span>
<a id=__codelineno-17-8 name=__codelineno-17-8 href=#__codelineno-17-8></a>    <span class=p>}</span>
<a id=__codelineno-17-9 name=__codelineno-17-9 href=#__codelineno-17-9></a><span class=p>)</span>
<a id=__codelineno-17-10 name=__codelineno-17-10 href=#__codelineno-17-10></a>
<a id=__codelineno-17-11 name=__codelineno-17-11 href=#__codelineno-17-11></a><span class=c1>#  Bad: Don't mix both</span>
<a id=__codelineno-17-12 name=__codelineno-17-12 href=#__codelineno-17-12></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-17-13 name=__codelineno-17-13 href=#__codelineno-17-13></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-17-14 name=__codelineno-17-14 href=#__codelineno-17-14></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-pro-preview"</span><span class=p>,</span>
<a id=__codelineno-17-15 name=__codelineno-17-15 href=#__codelineno-17-15></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-17-16 name=__codelineno-17-16 href=#__codelineno-17-16></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-17-17 name=__codelineno-17-17 href=#__codelineno-17-17></a>        <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=s2>"High"</span><span class=p>,</span>
<a id=__codelineno-17-18 name=__codelineno-17-18 href=#__codelineno-17-18></a>        <span class=s2>"thinking_budget"</span><span class=p>:</span> <span class=mi>4096</span><span class=p>,</span>  <span class=c1># Conflicting parameters</span>
<a id=__codelineno-17-19 name=__codelineno-17-19 href=#__codelineno-17-19></a>    <span class=p>}</span>
<a id=__codelineno-17-20 name=__codelineno-17-20 href=#__codelineno-17-20></a><span class=p>)</span>
</code></pre></div> <h2 id=troubleshooting>Troubleshooting<a class=headerlink href=#troubleshooting title="Permanent link">#</a></h2> <h3 id=common-issues>Common Issues<a class=headerlink href=#common-issues title="Permanent link">#</a></h3> <p><strong>1. <code>thinking_level</code> Not Supported Error</strong></p> <p><code>thinking_level</code> is only supported by Gemini 3 models and above. If you see an error with Gemini 2.5, use <code>thinking_budget</code> instead:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=c1>#  Correct: Use thinking_budget for Gemini 2.5</span>
<a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-2.5-flash"</span><span class=p>,</span>
<a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-18-6 name=__codelineno-18-6 href=#__codelineno-18-6></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-18-7 name=__codelineno-18-7 href=#__codelineno-18-7></a>        <span class=s2>"thinking_budget"</span><span class=p>:</span> <span class=mi>4096</span><span class=p>,</span>  <span class=c1># Correct parameter</span>
<a id=__codelineno-18-8 name=__codelineno-18-8 href=#__codelineno-18-8></a>    <span class=p>}</span>
<a id=__codelineno-18-9 name=__codelineno-18-9 href=#__codelineno-18-9></a><span class=p>)</span>
</code></pre></div> <div class=highlight><pre><span></span><code><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=c1>#  Incorrect: thinking_level not supported by Gemini 2.5</span>
<a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-2.5-flash"</span><span class=p>,</span>
<a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-19-6 name=__codelineno-19-6 href=#__codelineno-19-6></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-19-7 name=__codelineno-19-7 href=#__codelineno-19-7></a>        <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=s2>"High"</span><span class=p>,</span>  <span class=c1># Will cause error</span>
<a id=__codelineno-19-8 name=__codelineno-19-8 href=#__codelineno-19-8></a>    <span class=p>}</span>
<a id=__codelineno-19-9 name=__codelineno-19-9 href=#__codelineno-19-9></a><span class=p>)</span>
</code></pre></div> <p><strong>2. Invalid thinking_level Value</strong></p> <p>Ensure you use valid level values for your model:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=c1>#  Correct: Valid levels for gemini-3-flash-preview</span>
<a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-20-4 name=__codelineno-20-4 href=#__codelineno-20-4></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-flash-preview"</span><span class=p>,</span>
<a id=__codelineno-20-5 name=__codelineno-20-5 href=#__codelineno-20-5></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-20-6 name=__codelineno-20-6 href=#__codelineno-20-6></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-20-7 name=__codelineno-20-7 href=#__codelineno-20-7></a>        <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=s2>"High"</span><span class=p>,</span>  <span class=c1># Valid: High, Medium, Low, Minimal</span>
<a id=__codelineno-20-8 name=__codelineno-20-8 href=#__codelineno-20-8></a>    <span class=p>}</span>
<a id=__codelineno-20-9 name=__codelineno-20-9 href=#__codelineno-20-9></a><span class=p>)</span>
<a id=__codelineno-20-10 name=__codelineno-20-10 href=#__codelineno-20-10></a>
<a id=__codelineno-20-11 name=__codelineno-20-11 href=#__codelineno-20-11></a><span class=c1>#  Incorrect: Invalid level</span>
<a id=__codelineno-20-12 name=__codelineno-20-12 href=#__codelineno-20-12></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-20-13 name=__codelineno-20-13 href=#__codelineno-20-13></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-20-14 name=__codelineno-20-14 href=#__codelineno-20-14></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-pro-preview"</span><span class=p>,</span>
<a id=__codelineno-20-15 name=__codelineno-20-15 href=#__codelineno-20-15></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-20-16 name=__codelineno-20-16 href=#__codelineno-20-16></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-20-17 name=__codelineno-20-17 href=#__codelineno-20-17></a>        <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=s2>"VeryHigh"</span><span class=p>,</span>  <span class=c1># Invalid value</span>
<a id=__codelineno-20-18 name=__codelineno-20-18 href=#__codelineno-20-18></a>    <span class=p>}</span>
<a id=__codelineno-20-19 name=__codelineno-20-19 href=#__codelineno-20-19></a><span class=p>)</span>
</code></pre></div> <p><strong>3. thinking_budget Out of Range</strong></p> <p>Check model-specific budget ranges:</p> <h2 id=check-documentation-for-valid-ranges>Check documentation for valid ranges<a class=headerlink href=#check-documentation-for-valid-ranges title="Permanent link">#</a></h2> <h3 id=typical-ranges>Typical ranges:<a class=headerlink href=#typical-ranges title="Permanent link">#</a></h3> <ul> <li>gemini-2.5-flash: 0-8192 (check docs for exact range)</li> <li>gemini-2.5-pro: 0-16384 (check docs for exact range)</li> </ul> <div class=highlight><pre><span></span><code><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=c1>#  Correct: Use valid budget range</span>
<a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-21-4 name=__codelineno-21-4 href=#__codelineno-21-4></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-2.5-flash"</span><span class=p>,</span>
<a id=__codelineno-21-5 name=__codelineno-21-5 href=#__codelineno-21-5></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-21-6 name=__codelineno-21-6 href=#__codelineno-21-6></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-21-7 name=__codelineno-21-7 href=#__codelineno-21-7></a>        <span class=s2>"thinking_budget"</span><span class=p>:</span> <span class=mi>4096</span><span class=p>,</span>  <span class=c1># Within typical range</span>
<a id=__codelineno-21-8 name=__codelineno-21-8 href=#__codelineno-21-8></a>    <span class=p>}</span>
<a id=__codelineno-21-9 name=__codelineno-21-9 href=#__codelineno-21-9></a><span class=p>)</span>
<a id=__codelineno-21-10 name=__codelineno-21-10 href=#__codelineno-21-10></a>
<a id=__codelineno-21-11 name=__codelineno-21-11 href=#__codelineno-21-11></a><span class=c1>#  Incorrect: Budget may be outside valid range</span>
<a id=__codelineno-21-12 name=__codelineno-21-12 href=#__codelineno-21-12></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-21-13 name=__codelineno-21-13 href=#__codelineno-21-13></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-21-14 name=__codelineno-21-14 href=#__codelineno-21-14></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-2.5-flash"</span><span class=p>,</span>
<a id=__codelineno-21-15 name=__codelineno-21-15 href=#__codelineno-21-15></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-21-16 name=__codelineno-21-16 href=#__codelineno-21-16></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-21-17 name=__codelineno-21-17 href=#__codelineno-21-17></a>        <span class=s2>"thinking_budget"</span><span class=p>:</span> <span class=mi>50000</span><span class=p>,</span>  <span class=c1># Likely exceeds model limit</span>
<a id=__codelineno-21-18 name=__codelineno-21-18 href=#__codelineno-21-18></a>    <span class=p>}</span>
<a id=__codelineno-21-19 name=__codelineno-21-19 href=#__codelineno-21-19></a><span class=p>)</span>
</code></pre></div> <p><strong>4. Thoughts Not Appearing in Response</strong></p> <p>Ensure <code>include_thoughts=True</code> and the model actually used thinking:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=c1>#  Correct: Enable include_thoughts</span>
<a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-22-4 name=__codelineno-22-4 href=#__codelineno-22-4></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-pro-preview"</span><span class=p>,</span>
<a id=__codelineno-22-5 name=__codelineno-22-5 href=#__codelineno-22-5></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-22-6 name=__codelineno-22-6 href=#__codelineno-22-6></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-22-7 name=__codelineno-22-7 href=#__codelineno-22-7></a>        <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=s2>"High"</span><span class=p>,</span>
<a id=__codelineno-22-8 name=__codelineno-22-8 href=#__codelineno-22-8></a>        <span class=s2>"include_thoughts"</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>  <span class=c1># Must be True to see thoughts</span>
<a id=__codelineno-22-9 name=__codelineno-22-9 href=#__codelineno-22-9></a>    <span class=p>}</span>
<a id=__codelineno-22-10 name=__codelineno-22-10 href=#__codelineno-22-10></a><span class=p>)</span>
</code></pre></div> <h3 id=note-thoughts-only-appear-if-the-model-actually-used-thinking>Note: Thoughts only appear if the model actually used thinking<a class=headerlink href=#note-thoughts-only-appear-if-the-model-actually-used-thinking title="Permanent link">#</a></h3> <p>Simple queries may not generate thoughts even with include_thoughts=True</p> <p><strong>5. Suboptimal Performance with thinking_budget on Gemini 3</strong></p> <p>Prefer <code>thinking_level</code> for Gemini 3 models:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=c1>#  Recommended: Use thinking_level for Gemini 3</span>
<a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-23-4 name=__codelineno-23-4 href=#__codelineno-23-4></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-pro-preview"</span><span class=p>,</span>
<a id=__codelineno-23-5 name=__codelineno-23-5 href=#__codelineno-23-5></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-23-6 name=__codelineno-23-6 href=#__codelineno-23-6></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-23-7 name=__codelineno-23-7 href=#__codelineno-23-7></a>        <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=s2>"High"</span><span class=p>,</span>  <span class=c1># Recommended approach</span>
<a id=__codelineno-23-8 name=__codelineno-23-8 href=#__codelineno-23-8></a>    <span class=p>}</span>
<a id=__codelineno-23-9 name=__codelineno-23-9 href=#__codelineno-23-9></a><span class=p>)</span>
<a id=__codelineno-23-10 name=__codelineno-23-10 href=#__codelineno-23-10></a>
<a id=__codelineno-23-11 name=__codelineno-23-11 href=#__codelineno-23-11></a><span class=c1>#  Avoid: thinking_budget works but is suboptimal</span>
<a id=__codelineno-23-12 name=__codelineno-23-12 href=#__codelineno-23-12></a><span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-23-13 name=__codelineno-23-13 href=#__codelineno-23-13></a>    <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-23-14 name=__codelineno-23-14 href=#__codelineno-23-14></a>        <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-pro-preview"</span><span class=p>,</span>
<a id=__codelineno-23-15 name=__codelineno-23-15 href=#__codelineno-23-15></a>        <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-23-16 name=__codelineno-23-16 href=#__codelineno-23-16></a>        <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-23-17 name=__codelineno-23-17 href=#__codelineno-23-17></a>        <span class=s2>"thinking_budget"</span><span class=p>:</span> <span class=mi>8192</span><span class=p>,</span>  <span class=c1># Works but not optimal</span>
<a id=__codelineno-23-18 name=__codelineno-23-18 href=#__codelineno-23-18></a>    <span class=p>}</span>
<a id=__codelineno-23-19 name=__codelineno-23-19 href=#__codelineno-23-19></a><span class=p>)</span>
</code></pre></div> <h2 id=benefits-summary>Benefits Summary<a class=headerlink href=#benefits-summary title="Permanent link">#</a></h2> <ul> <li> <p><strong>Enhanced Reasoning</strong>: Enable deeper thinking for complex problem-solving tasks</p> </li> <li> <p><strong>Transparency</strong>: See the model's internal reasoning process with <code>include_thoughts</code></p> </li> <li> <p><strong>Flexibility</strong>: Choose between budget-based (Gemini 2.5) and level-based (Gemini 3) control</p> </li> <li> <p><strong>Cost Optimization</strong>: Balance thinking depth with token usage based on task needs</p> </li> <li> <p><strong>Model-Specific Support</strong>: Automatic handling of different parameter sets for different model series</p> </li> <li> <p><strong>Easy Integration</strong>: Configure through standard <code>LLMConfig</code> - no special APIs required</p> </li> <li> <p><strong>Production Ready</strong>: Fine-tune reasoning for different use cases and deployment scenarios</p> </li> </ul> <h2 id=getting-started>Getting Started<a class=headerlink href=#getting-started title="Permanent link">#</a></h2> <ol> <li> <p><strong>Install AG2 with Gemini support</strong>: </p><div class=highlight><pre><span></span><code><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=w>   </span>pip<span class=w> </span>install<span class=w> </span>ag2<span class=o>[</span>gemini<span class=o>]</span>
</code></pre></div><p></p> </li> <li> <p><strong>Set up your API key</strong>: </p><div class=highlight><pre><span></span><code><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a>   <span class=kn>import</span><span class=w> </span><span class=nn>os</span>
<a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a>   <span class=n>api_key</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>getenv</span><span class=p>(</span><span class=s2>"GOOGLE_GEMINI_API_KEY"</span><span class=p>)</span>
</code></pre></div><p></p> </li> <li> <p><strong>Configure thinking parameters</strong>: </p><div class=highlight><pre><span></span><code><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a>   <span class=kn>from</span><span class=w> </span><span class=nn>autogen</span><span class=w> </span><span class=kn>import</span> <span class=n>ConversableAgent</span><span class=p>,</span> <span class=n>LLMConfig</span>
<a id=__codelineno-26-2 name=__codelineno-26-2 href=#__codelineno-26-2></a>
<a id=__codelineno-26-3 name=__codelineno-26-3 href=#__codelineno-26-3></a>   <span class=c1># For Gemini 3 (recommended)</span>
<a id=__codelineno-26-4 name=__codelineno-26-4 href=#__codelineno-26-4></a>   <span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-26-5 name=__codelineno-26-5 href=#__codelineno-26-5></a>       <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-26-6 name=__codelineno-26-6 href=#__codelineno-26-6></a>           <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-3-pro-preview"</span><span class=p>,</span>
<a id=__codelineno-26-7 name=__codelineno-26-7 href=#__codelineno-26-7></a>           <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-26-8 name=__codelineno-26-8 href=#__codelineno-26-8></a>           <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-26-9 name=__codelineno-26-9 href=#__codelineno-26-9></a>           <span class=s2>"thinking_level"</span><span class=p>:</span> <span class=s2>"High"</span><span class=p>,</span>
<a id=__codelineno-26-10 name=__codelineno-26-10 href=#__codelineno-26-10></a>           <span class=s2>"include_thoughts"</span><span class=p>:</span> <span class=kc>True</span><span class=p>,</span>
<a id=__codelineno-26-11 name=__codelineno-26-11 href=#__codelineno-26-11></a>       <span class=p>}</span>
<a id=__codelineno-26-12 name=__codelineno-26-12 href=#__codelineno-26-12></a>   <span class=p>)</span>
<a id=__codelineno-26-13 name=__codelineno-26-13 href=#__codelineno-26-13></a>
<a id=__codelineno-26-14 name=__codelineno-26-14 href=#__codelineno-26-14></a>   <span class=c1># For Gemini 2.5</span>
<a id=__codelineno-26-15 name=__codelineno-26-15 href=#__codelineno-26-15></a>   <span class=n>llm_config</span> <span class=o>=</span> <span class=n>LLMConfig</span><span class=p>(</span>
<a id=__codelineno-26-16 name=__codelineno-26-16 href=#__codelineno-26-16></a>       <span class=n>config_list</span><span class=o>=</span><span class=p>{</span>
<a id=__codelineno-26-17 name=__codelineno-26-17 href=#__codelineno-26-17></a>           <span class=s2>"model"</span><span class=p>:</span> <span class=s2>"gemini-2.5-flash"</span><span class=p>,</span>
<a id=__codelineno-26-18 name=__codelineno-26-18 href=#__codelineno-26-18></a>           <span class=s2>"api_type"</span><span class=p>:</span> <span class=s2>"google"</span><span class=p>,</span>
<a id=__codelineno-26-19 name=__codelineno-26-19 href=#__codelineno-26-19></a>           <span class=s2>"api_key"</span><span class=p>:</span> <span class=n>api_key</span><span class=p>,</span>
<a id=__codelineno-26-20 name=__codelineno-26-20 href=#__codelineno-26-20></a>           <span class=s2>"thinking_budget"</span><span class=p>:</span> <span class=mi>4096</span><span class=p>,</span>
<a id=__codelineno-26-21 name=__codelineno-26-21 href=#__codelineno-26-21></a>       <span class=p>}</span>
<a id=__codelineno-26-22 name=__codelineno-26-22 href=#__codelineno-26-22></a>   <span class=p>)</span>
</code></pre></div><p></p> </li> <li> <p><strong>Create and use your agent</strong>: </p><div class=highlight><pre><span></span><code><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a>   <span class=n>agent</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a>       <span class=n>name</span><span class=o>=</span><span class=s2>"agent"</span><span class=p>,</span>
<a id=__codelineno-27-3 name=__codelineno-27-3 href=#__codelineno-27-3></a>       <span class=n>description</span><span class=o>=</span><span class=s2>"you are a helpful assistant"</span><span class=p>,</span>
<a id=__codelineno-27-4 name=__codelineno-27-4 href=#__codelineno-27-4></a>       <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span>
<a id=__codelineno-27-5 name=__codelineno-27-5 href=#__codelineno-27-5></a>   <span class=p>)</span>
<a id=__codelineno-27-6 name=__codelineno-27-6 href=#__codelineno-27-6></a>
<a id=__codelineno-27-7 name=__codelineno-27-7 href=#__codelineno-27-7></a>   <span class=n>response</span> <span class=o>=</span> <span class=n>agent</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>message</span><span class=o>=</span><span class=s2>"Your query here"</span><span class=p>,</span> <span class=n>max_turns</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
<a id=__codelineno-27-8 name=__codelineno-27-8 href=#__codelineno-27-8></a>   <span class=n>response</span><span class=o>.</span><span class=n>process</span><span class=p>()</span>
</code></pre></div><p></p> </li> <li> <p><strong>Review the documentation</strong>: <a href=https://docs.ag2.ai/latest/docs/user-guide/models/google-gemini>Google Gemini Models</a></p> </li> <li> <p><strong>Try the example notebook</strong>: <a href=https://github.com/ag2ai/ag2/blob/main/notebook/agentchat_gemini_thinking_config_example.ipynb>Gemini Thinking Config Example</a></p> </li> </ol> <h2 id=additional-resources>Additional Resources<a class=headerlink href=#additional-resources title="Permanent link">#</a></h2> <ul> <li><a href=https://docs.ag2.ai/latest/docs/user-guide/models/google-gemini>AG2 Google Gemini Documentation</a></li> <li><a href=https://github.com/ag2ai/ag2/blob/main/notebook/agentchat_gemini_thinking_config_example.ipynb>Gemini Thinking Config Example Notebook</a></li> <li><a href=https://ai.google.dev/gemini-api/docs/thinking>Google Gemini Thinking Guide</a></li> <li><a href=https://docs.ag2.ai/latest/docs/user-guide/agent-chat>AG2 Agent Chat Documentation</a></li> <li><a href=https://docs.ag2.ai/latest/docs/user-guide/llm-config>AG2 LLM Configuration Guide</a></li> </ul> <hr> <p>AG2's native Thinking Configuration support transforms how you leverage Gemini's advanced reasoning capabilities. By providing intuitive control over thinking depth and transparency through standard configuration, it makes sophisticated reasoning accessible for complex problem-solving, research tasks, and transparent AI systems. Start experimenting with thinking configuration today and unlock the full potential of Gemini's reasoning capabilities in your agent workflows.</p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="February 22, 2026 13:18:40 UTC"><span class=timeago datetime=2026-02-22T13:18:40+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="February 22, 2026 13:18:40 UTC">2026-02-22</span> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../../24/AG2-MultiMCPSessionManager/ class="md-footer__link md-footer__link--prev" aria-label="Previous: AG2 Multi-MCP Session Management: Dynamic Server Connections with MCPClientSessionManager"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> AG2 Multi-MCP Session Management: Dynamic Server Connections with MCPClientSessionManager </div> </div> </a> <a href=../../../../2026/02/08/AG2-OpenTelemetry-Tracing/ class="md-footer__link md-footer__link--next" aria-label="Next: AG2 OpenTelemetry Tracing: Full Observability for Multi-Agent Systems"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> AG2 OpenTelemetry Tracing: Full Observability for Multi-Agent Systems </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight>  2025 <a href=https://ag2.ai/ target=_blank rel=noopener>ag2</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://discord.gg/pAbnFJrkgZ target=_blank rel=noopener title=discord.gg class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"></path></svg> </a> <a href=https://github.com/ag2ai/ag2 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"></path></svg> </a> <a href=https://x.com/ag2oss target=_blank rel=noopener title=x.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M357.2 48h70.6L273.6 224.2 455 464H313L201.7 318.6 74.5 464H3.8l164.9-188.5L-5.2 48h145.6l100.5 132.9zm-24.8 373.8h39.1L119.1 88h-42z"></path></svg> </a> <a href=https://www.youtube.com/@ag2ai target=_blank rel=noopener title=www.youtube.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M549.7 124.1c-6.2-23.7-24.8-42.3-48.3-48.6C458.9 64 288.1 64 288.1 64S117.3 64 74.7 75.5c-23.5 6.3-42 24.9-48.3 48.6C15 167 15 256.4 15 256.4s0 89.4 11.4 132.3c6.3 23.6 24.8 41.5 48.3 47.8C117.3 448 288.1 448 288.1 448s170.8 0 213.4-11.5c23.5-6.3 42-24.2 48.3-47.8 11.4-42.9 11.4-132.3 11.4-132.3s0-89.4-11.4-132.3zM232.2 337.6V175.2l142.7 81.2z"></path></svg> </a> <a href=https://www.linkedin.com/company/ag2ai target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"></path></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../../../..", "features": ["search.suggest", "search.highlight", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.tracking", "navigation.prune", "navigation.top", "navigation.footer", "content.tabs.link", "content.code.copy", "content.code.annotate", "content.action.edit"], "search": "../../../../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../../../../assets/javascripts/bundle.92b07e13.min.js></script> <script src=../../../../../../js/timeago.min.js></script> <script src=../../../../../../js/timeago_mkdocs_material.js></script> <script src=../../../../../../javascripts/extra.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>